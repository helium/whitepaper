\documentclass[letterpaper,11pt]{report}
\hbadness 10000
\usepackage{graphicx}
\usepackage{color}% http://ctan.org/pkg/color
\usepackage[backref=section, linkbordercolor={1 1 1}, urlbordercolor={1 1 1}, citebordercolor={1 1 1}]{hyperref}% http://ctan.org/pkg/hyperref
\usepackage{cite}
\usepackage{float}
\usepackage{dutchcal}
\usepackage{algorithm2e}
\graphicspath{ {images/} }


\newcommand{\prover}{$\mathcal{P}$}
\newcommand{\verifier}{$\mathcal{V}$}
\newcommand{\coverage}{$\mathcal{W_p}$}
\newcommand{\device}{$\mathcal{D}$}
\newcommand{\location}{$\mathcal{L_p}$}
\newcommand{\proofofcoverage}{\textit{Proof-of-Coverage}}

\begin{document}

\title{Helium - A Decentralized Wireless Network}
\author{Helium Systems, Inc}
\date{\today}
\maketitle

{\large \textbf{Abstract}}\newline

The world is becoming decentralized. A multitude of platforms, technologies, and services are moving from centralized proprietary systems to decentralized open ones. Peer-to-peer networks such as Napster \cite{napster} (created by Helium founder Shawn Fanning) and BitTorrent paved the way for blockchain networks and crypto-currencies to be built. Now Bitcoin, Ethereum, and other blockchain networks have proven the utility of decentralized transaction ledgers. Existing internet services such as file storage, identity verification, and the domain name system are being replaced by modern algorithmic versions. While software-level decentralization has moved quickly, physical networks are taking longer to affect. These networks are more complicated to decentralize as often specialized and expensive hardware is required in order for these systems to function.\newline
\newline
Helium is a \textit{decentralized wireless network} that creates wireless internet coverage for Internet of Things devices using an entirely new open-source wireless radio protocol. The network runs on a blockchain with a native protocol token (simply called Helium) which miners earn by providing wireless internet access, via cost-effective open-source hardware, to devices. Devices use the Helium wireless protocol and spend Helium by paying miners to send data to and from the internet, and to geolocate themselves in physical space. As in Bitcoin miners compete to create new blocks in the blockchain, mining, for substantial rewards. Helium mining power is gained by providing wireless network coverage. This is far more useful than Bitcoin and provides a directly useful service to devices; mining Helium is not computationally expensive and consumes a minimal amount of power, resulting in a system which provides a tremendous incentive for miners to grow the network. Devices using Helium are able to send and receive data to and from the internet several miles from the nearest miner, and devices within range of several miners can pay to geolocate themselves without needing any additional GPS hardware. Devices last for several years on small commodity batteries, and contain hardware private key stores which are used to securely authenticate against the corresponding public key in the Helium ledger. Data sent from devices is encrypted end to end, and has a cryptographic fingerprint stored in the blockchain to create a tamper-proof data trail. 
\newline\newline
Helium has a huge variety of uses in a wide variety of sensing and location tracking applications and is the first decentralized wide area network of its kind.

\newpage

\tableofcontents
\newpage

\section{Introduction}

Helium is a wide-area wireless networking system, a blockchain and a protocol token. The blockchain runs on a new kind of proof, called \proofofcoverage, where blocks are created by miners who are providing wireless network coverage in a cryptographically verified physical location and time. The Helium protocol provides a bi-directional data transfer system between wireless devices and the Internet via a network of independent providers that does not rely on a single coordinator, where: (1) devices pay to send \& receive data to the internet and geolocate themselves, (2) miners earn tokens for providing network coverage, and (3) miners earn fees from transactions, and for validating the integrity of the network.\newline

\subsection{Key Components}

Helium is built around the following key components:

\begin{enumerate}
	\item \textbf{Wireless Protocol}: we introduce a new open-source and standards-compliant wireless network protocol designed for low power devices over extremely wide areas. This protocol is designed to run on existing commodity radio chips availble from dozens of manufacturers with no proprietary technologies or modulation schemes required.
	\item \textbf{Blockchain Network}: we demonstrate an entirely new purpose-built blockchain network built to service the \textit{Wireless Protocol} and provide a system for authenticating and identifying devices, providing cryptographic guarantees of data transmission and authenticity, offer transaction primitives designed around the wireless protocol, and more.	
	\item \textbf{\proofofcoverage}: we present a set of computationally-inexpensive \proofofcoverage that allows network providers to prove they are capable of providing wireless network coverage. We anchor these proofs using a \textit{Proof-of-Serialization} that allows network providers to prove they are accurately representing time relative to others on the network in a crytographically secure way. 	
	\item \textbf{Geolocation}: we outline a system for interpreting the physical \textit{geolocation} of a device using the \textit{Wireless Protocol} without the need for expensive and power-hungry satellite location hardware. Devices are able to make immutable, secure, and verifiable claims about their location at a given moment in time which are recorded in the blockchain.
\end{enumerate}

\subsection{System Overview}

\begin{itemize}
	\item The Helium protocol is a \textit{Decentralized Wireless Network} system built around a new wireless protocol on a purpose-built blockchain with a native token. 
	\item Devices take the form of hardware containing a radio chip and firmware compatible with the wireless protocol, and spend tokens by paying miners to send data to and from the internet. 
	\item Miners earn tokens by providing wireless network coverage via purpose-built hardware which provides a bridge between the Helium wireless protocol and the Internet.
	\item Devices store their private keys in commodity key-storage hardware and participate in the network only when authenticated against their public key stored in the blockchain.
	\item Miners join the network by asserting their satellite-derived location, a special type of transaction in the blockchain, and staking a fixed deposit.
	\item Miners specify the price they're willing to accept for data transport and geolocation, and devices specify the price they are willing to pay. Miners are paid once they prove they have delivered data to the devices' specified internet endpoint.
	\item Miners can particpate in the creation of new blocks in the blockchain, for which they are rewarded newly minted Helium. A miners probability of mining the next block is approximately equal to the amount of wireless network coverage being provided.
	\item The blockchain employs \proofofcoverage to guarantee that miners are correctly representing the amount of wireless network coverage being created.
\end{itemize}

DIAGRAM OF THE SYSTEM HERE

\section{\proofofcoverage}

In the Helium protocol, miners must prove that they are providing wireless network coverage that devices are able to use to communicate with the internet. Miners do this by generating \textit{Proofs-of-Coverage} that the blockchain network and other miners verify.\newline

In this section we outline the implementation for \proofofcoverage.

\subsection{Motivation}

Most existing blockchain networks such as Bitcoin \cite{bitcoin} and Ethereum \cite{ethereum} use a \textit{Proof-of-Work} system that relies on a algorithmic puzzle that is asymmetric in nature. These proofs are extremely difficult to generate, but simple for an external verifier to prove. Security and consensus on these networks is achieved by knowing that the amount of computing power required to generate a valid proof is difficult to forge, and as subsequent blocks are added, the cumulative difficulty of the chain becomes realistically impossible to fabricate. \newline

These proofs are, however, not otherwise \textit{useful} to the network. We define useful as work that is valuable to the network beyond securing the blockchain. While there have been attempts in other networks to turn mining power into something useful, such as Ethereum executing small programs with the mining power, the majority of the work is not useful or reusable. The mining process is also extremely wasteful, as the determining factor in the mining work is typically computational power which consumes massive amounts of power and hardware to execute.\newline

The proofs used in Helium must be resistant to \textit{Sybil Attacks} in which dishonest miners create pseudonymous identities and use them to subvert the network and gain access to block rewards to which they should not be entitled. This is a particularly difficult attack vector to manage in a physical network like Helium. We must also be resistant to a new attack vector: \textit{Alternate Reality Attacks} exist where a dishonest group of miners are able to simluate that wireless network coverage exists in the physical world when it in fact does not. An example of this would be running the mining software on a set of virtual machines and simulating GPS coordinates and RF networking.\newline

We propose a consensus protocol that uses \proofofcoverage to both secure the blockchain and provide an extremely useful service to the network; providing wireless network coverage that devices can use to send data to and from the internet. 

\subsection{\proofofcoverage}

\proofofcoverage (\verb|PoC|) is an innovative proof which allows a miner, the prover \prover, to convince a verifier \verifier that wireless network coverage \coverage is being made available to a given device on the network \device. \verb|PoC| is an interactive protocol where prover \prover asserts that they are creating wireless network coverage \coverage in a specific GPS location \location and then convinces a verifier \verifier that \prover is in fact creating \coverage via a challenge mechanism over the wireless network. \verb|PoC| is the first such protocol that attempts to prove the veracity of miners in a physical space, and then use it to achieve consensus on a blockchain network.\newline

We aim to solve for the following:

\begin{itemize}
	\item Our goal is to prove that miners are operating radio frequency (RF) hardware and firmware compatible with the wireless protocol	
	\item Our goal is to prove that miners are located in the geography they claim by having them communicate via RF
	\item Our goal is to correctly identify which reality is honest when there is a conflict
\end{itemize}

\subsection{Constructing \proofofcoverage}

This section describes the construction of the \proofofcoverage protocol.\newline

\textbf{Selecting the Verifier}. Because Helium is a physical wireless network, we aim to create a proof that the prover \prover is creating wireless network coverage. To do this we must identify a verifier \verifier that is within \textit{geographic proximity} to \prover. We define geographic proximity as a miner present within $\mathcal{A}$ = $\mathcal{\pi}$$\mathcal{r^2}$; geographic proximity is required to confirm \prover and \verifier are able to communicate via the RF wireless protocol. As each miners location is recorded in the blockchain via the \verb|assert_location| transaction (see Section \ref{transactions}) we select \verifier by pseudo-random selection from miners located within $\mathcal{A}$ = $\mathcal{\pi}$$\mathcal{r^2}$ of \prover, where $\mathcal{r}$ is approximately 1.5 miles from \prover.\newline

ALGORITHM TYPE REPRESENTATION HERE\newline

\textbf{Creating the Proof}. ETC ETC ETC\newline

TEXT AND ALGORITHM TYPE REPRESENTATION HERE\newline

\textbf{Verifying the Proof}.\newline

TEXT AND ALGORITHM TYPE REPRESENTATION HERE

\section{The Helium DWN}

We introduce the Helium Decentralized Wireless Network (\verb|DWN|). The \verb|DWN| provides wireless access to the internet for devices by way of multiple independent miners, and outlines a network and wireless protocol specification by which participants in the network should conform. Devices pay this network of miners for sending data to and from the internet, and miners are paid for continously providing network coverage and delivering device data to the internet. 

\subsection{Participants}

Any user can participate as a Device, a Miner, or a Router.\newline

\begin{itemize}
	\item \textit{Devices} pay to send encrypted data to and from the internet via the \verb|DWN| using hardware compatible with the wireless protocol. In geographies with a sufficient number of miners, devices can pay several miners to geolocate themselves without needing satellite location hardware. Data sent from devices is \textit{fingerprinted}, and that fingerprint stored in the blockchain. 
	\item \textit{Miners} provide wireless network coverage to the network via purpose-built hardware which provides a long range bridge between the wireless protocol and the internet. Users join the network as miners by purchasing or building mining hardware that conforms to the wireless protocol, and \textit{staking} a deposit inversely proportional to the density of existing miners at their physical location. Miners generate \textit{Proofs-of-Coverage} and submit them to the blockchain to prove that they are continuously providing wireless network coverage that devices can use. Miners join the network with a \textit{score} that diminishes as blocks pass without valid proofs being submitted; once a miners score drops below a threshold they are penalized and lose some or all of their deposit. Miners are eligible to mine new blocks in the blockchain, and receive the block reward and transaction fees for any transactions included in the block once mined.
	\item \textit{Routers} are internet applications that receive encrypted device data from miners. Routers are the termination point for device data encryption, and devices record to which router(s) miners should send their data into the blockchain. Routers are responsible for confirming to the network that device data was delivered to the correct place, and that the miner should be paid for their service.
\end{itemize}

\subsection{Network}

Detail about the p2p network and the role that full nodes play.

\subsection{Blockchain}

Detail about our specific instantiation of a ledger, how it is structured, uncles, transactions, etc

\subsection{Protocol}

Intro that explains we will now give an overview of how the protocol works.

\subsubsection{Client Cycle}

The flow of a Client (Device?) using the network.

\subsubsection{Mining Cycle}

The mining flow.

\subsubsection{Routing Cycle}

Where routing fits and it's relationship to people getting paid?

\section{Transactions}

Talk about the basic transaction primitives our blockchain provides, such as address generation, location assertion, network joining, etc as well as our big-blocker mentality.

\subsection{Primitives in Helium}

\section{Physical Implementation}

Intro to the physical components of the network.

\subsection{Gateways}

\subsection{Devices}

\subsection{Routers}

\subsection{Geolocation}

\section{Future Work}

Smart Contracts, better proofs, etc

\newpage

\section{Acknowledgements}

This document is the result of collaborative work by multiple members of the Helium team, and would not have been possible without the help, feedback, and review of the board, advisors, and collaborators of Helium. Particularly: Andrew Allen wrote the original draft of a whitepaper, laying the groundwork and thinking for this eventual project and whitepaper document; Andrew Thompson devised the critical \proofofcoverage implementation, drove much of the early development and built the first simulator of this system; Marc Nijdam implemented and structured the development efforts on both the hardware and software; Mark Phillips added continuous review, feedback and sanity checking of this document; Jay Kickliter built the earliest hardware testing apparatus that proved much of the physical implementation was possible; Peter Main created the various illustrations and artwork, as well as providing valuable review; and Amir Haleem wrote much of the structure and prose around these various concepts.\newline

We would like to extend our deepest thanks to Jeremy Rubin of the MIT Digital Currency Initiative, and the Blockchain at Berkeley team for their help and detailed review of this paper.\newline

We would also like to acknowledge many of the prior works and inventions that have allowed us to create this project, most notably Bitcoin \cite{bitcoin} and Ethereum \cite{ethereum}. We would also like to extend our appreciation to Protocol Labs \cite{protocol} and Filecoin \cite{filecoin} who demonstrated a path for regulatory-compliant sales of protocols under development and pioneered work around the SAFT, which we have borrowed from heavily.
\newpage

\begin{thebibliography}{9}

\bibitem{napster}
	Napster, \\
		\url{https://en.wikipedia.org/wiki/Napster}

\bibitem{mckinsey}
	James Manyika, Michael Chui, Peter Bisson, Jonathan Woetzel, Richard Dobbs, Jacques Bughin, Dan Aharon
		\textit{Unlocking the potential of the Internet of Things}, \\
		\url{https://www.mckinsey.com/business-functions/digital-mckinsey/our-insights/the-internet-of-things-the-value-of-digitizing-the-physical-world}

\bibitem{ghost}
	Yonatan Sompolinsky,
		\textit{Secure High-Rate Transaction Processing in Bitcoin}, \\
		\url{http://www.cs.huji.ac.il/\%7Eyoni\_sompo/pubs/15/btc\_scalability\_full.pdf}

\bibitem{ethereum}
	Vitalik Buterin,
		\textit{Ethereum},\\
		\url{http://www.ethereum.org/}

\bibitem{bitcoin}
	Satoshi Nakamoto,
		\textit{Bitcoin}, \\
		\url{https://bitcoin.org/bitcoin.pdf}

\bibitem{roughtime}
	Adam Langley, Google,
		\textit{Roughtime}, \\
		\url{https://roughtime.googlesource.com/roughtime}

\bibitem{lightning}
	Joseph Poon, Thaddeus Dryja,
		\textit{The Bitcoin Lightning Network}, \\
		\url{https://lightning.network/lightning-network-paper.pdf}

\bibitem{tdoa}
	Regina Kaune, Julian Horst, Wolfgang Koch
		\textit{Accuracy Analysis for TDOA Localization in Sensor Networks}, \\
		\url{http://fusion.isif.org/proceedings/Fusion_2011/data/papers/217.pdf}	

\bibitem{state-channels}
	Jeff Coleman
		\textit{State Channels}, \\
		\url{http://www.jeffcoleman.ca/state-channels/}

\bibitem{ecc}
	Microchip
		\textit{ATECC508A}, \\
		\url{http://www.microchip.com/wwwproducts/en/ATECC508A}

\bibitem{azure}
	Microsoft
		\textit{Azure IoT Hub}, \\
		\url{https://azure.microsoft.com/en-us/services/iot-hub/}

\bibitem{merkle}
	Wikipedia
		\textit{Merkle Trees}, \\
		\url{https://en.wikipedia.org/wiki/Merkle_tree}

\bibitem{alliance}
	Helium Alliance, \\
		\url{https://helium-alliance.org}

\bibitem{protocol}
	Protocol Labs, \\
		\url{https://protocol.ai}

\bibitem{filecoin}
	Filecoin, \\
		\url{https://filecoin.io}

\end{thebibliography}

\end{document}
